From e64519d1ed7fd8f990f05a5562d5b5c0c44b7d7e Mon Sep 17 00:00:00 2001
From: Nick Clifton <nickc@redhat.com>
Date: Wed, 14 Jun 2017 17:10:28 +0100
Subject: [PATCH] Fix seg-fault when trying to disassemble a corrupt score
 binary.

	PR binutils/21576
	* score7-dis.c (score_opcodes): Add sentinel.
---
 opcodes/score7-dis.c | 3 ++-
 2 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/opcodes/score7-dis.c b/opcodes/score7-dis.c
index c50a60f..8d0d969 100644
--- a/opcodes/score7-dis.c
+++ b/opcodes/score7-dis.c
@@ -513,7 +513,8 @@ static struct score_opcode score_opcodes[] =
   {0x00000d05, 0x00007f0f, "tvc!"},
   {0x00000026, 0x3e0003ff, "xor\t\t%20-24r, %15-19r, %10-14r"},
   {0x00000027, 0x3e0003ff, "xor.c\t\t%20-24r, %15-19r, %10-14r"},
-  {0x00002007, 0x0000700f, "xor!\t\t%8-11r, %4-7r"}
+  {0x00002007, 0x0000700f, "xor!\t\t%8-11r, %4-7r"},
+  { 0, 0, NULL }
 };
 
 typedef struct
-- 
2.9.3

